---
import type { Project } from '@/types/projectsTypes';
import { Image } from 'astro:assets';

interface Props {
  project: Project;
}

const { project } = Astro.props;
---

<dialog
  id={`dialog-${project.id}`}
  closedby="any"
  class="card-detail border-text flex w-[90%] flex-col items-center gap-x-5 rounded-md border bg-white/15 p-5 lg:w-auto lg:flex-row"
>
  <button
    commandfor={`dialog-${project.id}`}
    command="close"
    class="absolute top-[5%] right-[2%] cursor-pointer"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="20"
      height="20"
      viewBox="0 0 24 24"
      ><path
        fill="#ffffff"
        d="M5 5h2v2H5zm4 4H7V7h2zm2 2H9V9h2zm2 0h-2v2H9v2H7v2H5v2h2v-2h2v-2h2v-2h2v2h2v2h2v2h2v-2h-2v-2h-2v-2h-2zm2-2v2h-2V9zm2-2v2h-2V7zm0 0V5h2v2z"
      ></path></svg
    >
  </button>
  <Image
    src={project.projectLogo}
    alt={project.title}
    class="w-2/5"
    loading={'eager'}
  />
  <div class="font-secondary flex flex-col gap-y-2">
    <h3 class="font-primary">{project.title}</h3>

    <p>{project.description}</p>

    <p>Tech Stack: {project.techStack?.join(', ')}</p>

    <p>
      You can see the page
      <a href={project.link} target="_blank" rel="noopener noreferer">here</a>
    </p>
  </div>
</dialog>

<style>
  .card-detail[open] {
    scale: 1;
    transition: scale 0.3s ease;

    @starting-style {
      scale: 0;
    }
  }

  .card-detail {
    top: 50%;
    left: 50%;
    translate: -50% -50%;
    transition:
      scale 0.3s ease,
      display 0.3s ease allow-discrete;
    scale: 0;
    backdrop-filter: blur(8px);
  }

  .card-detail::backdrop {
    background-color: rgba(0, 0, 0, 0.5);
  }

  .card-detail h3 {
    -webkit-text-stroke: 0.75px #000;
    -webkit-text-fill-color: var(--color-tertiary);
  }

  .card-detail p {
    -webkit-text-stroke: 0.75px #000;
    -webkit-text-fill-color: var(--color-text);
  }

  .card-detail a {
    -webkit-text-fill-color: var(--color-secondary);
  }
</style>
