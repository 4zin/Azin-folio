---
import { aboutSmallDetails } from '@/data/projects';
import { Image } from 'astro:assets';
---

<div data-content="1" class="hidden grid-cols-3">
  {
    aboutSmallDetails.map((project, index) => (
      <div
        class="featured-item flex flex-col items-center gap-y-5"
        style={`--item-index: ${index}`}
      >
        <Image
          src={project.projectLogo}
          alt={project.title}
          width={110}
          height={150}
          loading="eager"
          class="h-[30%] object-contain"
        />
        <div class="featured-info-container flex flex-col gap-y-2.5">
          <a
            class="featured-redirect font-primary text-tertiary hover:text-primary w-fit text-center"
            href={project.link}
            target="_blank"
            rel="noopener noreferrer"
          >
            <h3>{project.title}</h3>
          </a>
          <p class="featured-description font-secondary text-text leading-relaxed font-medium tracking-wider">
            {project.smallDescription}
          </p>
          <p class="font-secondary text-text">
            Stack: {project.stack.join(', ')}
          </p>
          <a
            class="font-secondary text-text hover:text-primary"
            href={`projects#${project.redirect}`}
          >
            More info
          </a>
        </div>
      </div>
    ))
  }
</div>

<style>
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
      filter: blur(4px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
      filter: blur(0);
    }
  }

  .featured-item {
    opacity: 0;
    transform: translateY(30px);
  }

  :global([data-content='1'].selected-content) .featured-item {
    animation: fadeInUp 0.5s ease-out forwards;
    animation-delay: calc(var(--item-index) * 0.15s);
  }

  .featured-info-container {
    color: var(--color-text);
    -webkit-text-stroke: 0.8px #000;
  }

  .featured-redirect {
    -webkit-text-stroke: 0.8px #000;
  }

  .featured-description {
    color: var(--color-text);
    -webkit-text-stroke: 0.8px #000;
  }
</style>
